---
import type { GetStaticPaths } from 'astro';
import { getCollection } from 'astro:content';

import Layout from '@/layouts/Layout.astro';
import PageTitle from '@/components/PageTitle.astro';

export const getStaticPaths = (async () => {
	const blogEntries = await getCollection('js-proxy');

	return blogEntries.map((entry) => ({
		params: {
			slug: entry.slug,
		},

		props: { entry },
	}));
}) satisfies GetStaticPaths;

const { entry } = Astro.props;
const { Content } = await entry.render();
const meta = {
	title: entry.data.title,
	description: entry.data.description,
};
---

<Layout meta={meta}>
	<article class="brand-prose">
		<PageTitle>{entry.data.title}</PageTitle>
		<Content />
	</article>
</Layout>
